<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252" /><link rel="stylesheet" href="file:///C:\Program Files (x86)\MATLAB\R2012a\toolbox\matlab\codetools\matlab-report-styles.css" type="text/css" /><title>Function details for legend>make_legend</title><link rel="stylesheet" href="file:///C:\Program Files (x86)\MATLAB\R2012a\toolbox\matlab\codetools\matlab-report-styles.css" type="text/css" /></head><body bgcolor="#F8F8F8"><strong>This is a static copy of a profile report</strong><p><a href="file0.html">Home</a><p><span style="font-size:14pt; background:#FFE4B0">legend>make_legend (17 calls, 1.145 sec)</span><br/><i>Generated 24-Mar-2015 14:22:58 using cpu time.</i><br/>subfunction in file C:\Program Files (x86)\MATLAB\R2012a\toolbox\matlab\scribe\legend.m<br/>Copy to new window for comparing multiple runs<div class="grayline"/><div class="grayline"/><strong>Parents</strong> (calling functions)<br/><p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Name</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Type</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td></tr><tr><td class="td-linebottomrt"><a href="file313.html">legend</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">17</td></tr></table><div class="grayline"/><strong>Lines where the most time was spent</strong><br/> <p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Line Number</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Code</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Total Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">% Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Time Plot</td></tr><tr><td class="td-linebottomrt"><a href="#Line386">386</a></td><td class="td-linebottomrt"><pre>lh=scribe.legend(ha,orient,loc...</pre></td><td class="td-linebottomrt">17</td><td class="td-linebottomrt">1.116 s</td><td class="td-linebottomrt" class="td-linebottomrt">97.5%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files (x86)\MATLAB\R2012a\toolbox\matlab\codetools\private\one-pixel.gif" width=97 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line340">340</a></td><td class="td-linebottomrt"><pre>if ~is2D(ha)</pre></td><td class="td-linebottomrt">17</td><td class="td-linebottomrt">0.011 s</td><td class="td-linebottomrt" class="td-linebottomrt">1.0%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files (x86)\MATLAB\R2012a\toolbox\matlab\codetools\private\one-pixel.gif" width=1 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line331">331</a></td><td class="td-linebottomrt"><pre>[orient,location,position,chil...</pre></td><td class="td-linebottomrt">17</td><td class="td-linebottomrt">0.008 s</td><td class="td-linebottomrt" class="td-linebottomrt">0.7%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files (x86)\MATLAB\R2012a\toolbox\matlab\codetools\private\one-pixel.gif" width=1 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line384">384</a></td><td class="td-linebottomrt"><pre>[children,strings,warnmsg] = c...</pre></td><td class="td-linebottomrt">17</td><td class="td-linebottomrt">0.005 s</td><td class="td-linebottomrt" class="td-linebottomrt">0.4%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files (x86)\MATLAB\R2012a\toolbox\matlab\codetools\private\one-pixel.gif" width=0 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line388">388</a></td><td class="td-linebottomrt"><pre>leg=double(lh);</pre></td><td class="td-linebottomrt">17</td><td class="td-linebottomrt">0.001 s</td><td class="td-linebottomrt" class="td-linebottomrt">0.1%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files (x86)\MATLAB\R2012a\toolbox\matlab\codetools\private\one-pixel.gif" width=0 height=10></td></tr><tr><td class="td-linebottomrt">All other lines</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">0.004 s</td><td class="td-linebottomrt">0.3%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files (x86)\MATLAB\R2012a\toolbox\matlab\codetools\private\one-pixel.gif" width=0 height=10></td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Totals</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">1.145 s</td><td class="td-linebottomrt" bgcolor="#F0F0F0">100%</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td></tr></table><div class="grayline"/><b>Children</b> (called functions)<br/><p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Name</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Type</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Total Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">% Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Time Plot</td></tr><tr><td class="td-linebottomrt"><a href="file142.html">scribe.legend.legend</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">17</td><td class="td-linebottomrt">1.111 s</td><td class="td-linebottomrt">97.0%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files (x86)\MATLAB\R2012a\toolbox\matlab\codetools\private\one-pixel.gif" width=97 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file206.html">is2D</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">17</td><td class="td-linebottomrt">0.011 s</td><td class="td-linebottomrt">1.0%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files (x86)\MATLAB\R2012a\toolbox\matlab\codetools\private\one-pixel.gif" width=1 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file308.html">legend>process_inputs</a></td><td class="td-linebottomrt">subfunction</td><td class="td-linebottomrt">17</td><td class="td-linebottomrt">0.007 s</td><td class="td-linebottomrt">0.6%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files (x86)\MATLAB\R2012a\toolbox\matlab\codetools\private\one-pixel.gif" width=1 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file171.html">legend>check_legend_strings</a></td><td class="td-linebottomrt">subfunction</td><td class="td-linebottomrt">17</td><td class="td-linebottomrt">0.005 s</td><td class="td-linebottomrt">0.4%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files (x86)\MATLAB\R2012a\toolbox\matlab\codetools\private\one-pixel.gif" width=0 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file152.html">opaque.double</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">17</td><td class="td-linebottomrt">0.001 s</td><td class="td-linebottomrt">0.1%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files (x86)\MATLAB\R2012a\toolbox\matlab\codetools\private\one-pixel.gif" width=0 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file307.html">legend>find_legend</a></td><td class="td-linebottomrt">subfunction</td><td class="td-linebottomrt">17</td><td class="td-linebottomrt">0 s</td><td class="td-linebottomrt">0%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files (x86)\MATLAB\R2012a\toolbox\matlab\codetools\private\one-pixel.gif" width=0 height=10></td></tr><tr><td class="td-linebottomrt">Self time (built-ins, overhead, etc.)</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">0.010 s</td><td class="td-linebottomrt">0.9%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files (x86)\MATLAB\R2012a\toolbox\matlab\codetools\private\one-pixel.gif" width=1 height=10></td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Totals</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">1.145 s</td><td class="td-linebottomrt" bgcolor="#F0F0F0">100%</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td></tr></table><div class="grayline"/><strong>Code Analyzer results</strong><br/><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Line number</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Message</td></tr></table><div class="grayline"/><strong>Coverage results</strong><br/>Show coverage for parent directory <br/><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Total lines in function</td><td class="td-linebottomrt">69</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Non-code lines (comments, blank lines)</td><td class="td-linebottomrt">18</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines (lines that can run)</td><td class="td-linebottomrt">51</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines that did run</td><td class="td-linebottomrt">24</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines that did not run</td><td class="td-linebottomrt">27</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Coverage (did run/can run)</td><td class="td-linebottomrt">47.06 %</td></tr></table><div class="grayline"/><b>Function listing</b><br/><pre> <span style="color: #FF0000; font-weight: bold; text-decoration: none">  time</span> <span style="color: #0000FF; font-weight: bold; text-decoration: none">  calls</span>  <span style="font-weight: bold; text-decoration: none">line</span><br/>               <span style="color: #A0A0A0"> 323</span> <span style="color: #A0A0A0; background: #FFFFFF;">function [leg,warnmsg] = make_legend(ha,argin)</span><br/>               <span style="color: #A0A0A0"> 324</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 325</span> <span style="color: #228B22; background: #FFFFFF;">% find and delete existing legend</span><br/>       <span style="color: #0000FF">     17 </span><span style="color: #000000; font-weight: bold"> 326</span> <span style="color: #000000; background: #FFFFFF;">leg = <a href="file307.html">find_legend</a>(ha); </span><br/>       <span style="color: #0000FF">     17 </span><span style="color: #000000; font-weight: bold"> 327</span> <span style="color: #000000; background: #FFFFFF;">if ~isempty(leg) </span><br/>               <span style="color: #A0A0A0"> 328</span> <span style="color: #A0A0A0; background: #FFFFFF;">    delete_legend(leg);</span><br/>               <span style="color: #A0A0A0"> 329</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/>               <span style="color: #A0A0A0"> 330</span> <span style="color: #228B22; background: #FFFFFF;">% process args</span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">     17 </span><span style="color: #000000; font-weight: bold"> 331</span> <a name="Line331"></a><span style="color: #000000; background: #FFFFFF;">[orient,location,position,children,listen,strings,propargs] = <a href="file308.html">process_inputs</a>(ha,argin); </span><br/>               <span style="color: #A0A0A0"> 332</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 333</span> <span style="color: #228B22; background: #FFFFFF;">% set position if empty</span><br/>       <span style="color: #0000FF">     17 </span><span style="color: #000000; font-weight: bold"> 334</span> <span style="color: #000000; background: #FFFFFF;">if isempty(position) </span><br/>       <span style="color: #0000FF">     17 </span><span style="color: #000000; font-weight: bold"> 335</span> <span style="color: #000000; background: #FFFFFF;">    position = -1; </span><br/>       <span style="color: #0000FF">     17 </span><span style="color: #000000; font-weight: bold"> 336</span> <span style="color: #000000; background: #FFFFFF;">end </span><br/>               <span style="color: #A0A0A0"> 337</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 338</span> <span style="color: #228B22; background: #FFFFFF;">% set location if empty</span><br/>       <span style="color: #0000FF">     17 </span><span style="color: #000000; font-weight: bold"> 339</span> <span style="color: #000000; background: #FFFFFF;">if isempty(location) </span><br/><span style="color: #FF0000">  0.01 </span><span style="color: #0000FF">     17 </span><span style="color: #000000; font-weight: bold"> 340</span> <a name="Line340"></a><span style="color: #000000; background: #FFFFFF;">    if ~<a href="file206.html">is2D</a>(ha) </span><br/>               <span style="color: #A0A0A0"> 341</span> <span style="color: #A0A0A0; background: #FFFFFF;">        location = 'NorthEastOutside';</span><br/>       <span style="color: #0000FF">     17 </span><span style="color: #000000; font-weight: bold"> 342</span> <span style="color: #228B22; background: #FFFFFF;">    else </span><br/>       <span style="color: #0000FF">     17 </span><span style="color: #000000; font-weight: bold"> 343</span> <span style="color: #000000; background: #FFFFFF;">        location = 'NorthEast'; </span><br/>       <span style="color: #0000FF">     17 </span><span style="color: #000000; font-weight: bold"> 344</span> <span style="color: #000000; background: #FFFFFF;">    end </span><br/>       <span style="color: #0000FF">     17 </span><span style="color: #000000; font-weight: bold"> 345</span> <span style="color: #000000; background: #FFFFFF;">end </span><br/>               <span style="color: #A0A0A0"> 346</span> <span style="color: #228B22; background: #FFFFFF;">% check prop val args</span><br/>       <span style="color: #0000FF">     17 </span><span style="color: #000000; font-weight: bold"> 347</span> <span style="color: #000000; background: #FFFFFF;">if ~isempty(propargs) </span><br/>               <span style="color: #A0A0A0"> 348</span> <span style="color: #A0A0A0; background: #FFFFFF;">    check_pv_args(propargs);</span><br/>               <span style="color: #A0A0A0"> 349</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/>               <span style="color: #A0A0A0"> 350</span> <span style="color: #228B22; background: #FFFFFF;">% get children if empty</span><br/>       <span style="color: #0000FF">     17 </span><span style="color: #000000; font-weight: bold"> 351</span> <span style="color: #000000; background: #FFFFFF;">auto_children = false; </span><br/>       <span style="color: #0000FF">     17 </span><span style="color: #000000; font-weight: bold"> 352</span> <span style="color: #000000; background: #FFFFFF;">if isempty(children) </span><br/>               <span style="color: #A0A0A0"> 353</span> <span style="color: #A0A0A0; background: #FFFFFF;">    auto_children = true;</span><br/>               <span style="color: #A0A0A0"> 354</span> <span style="color: #A0A0A0; background: #FFFFFF;">    children = graph2dhelper ('get_legendable_children', ha);</span><br/>               <span style="color: #A0A0A0"> 355</span> <span style="color: #228B22; background: #FFFFFF;">    % if still no children, return empty</span><br/>               <span style="color: #A0A0A0"> 356</span> <span style="color: #A0A0A0; background: #FFFFFF;">    if isempty(children)</span><br/>               <span style="color: #A0A0A0"> 357</span> <span style="color: #A0A0A0; background: #FFFFFF;">        warnmsg = struct('identifier','MATLAB:legend:PlotEmpty',...</span><br/>               <span style="color: #A0A0A0"> 358</span> <span style="color: #A0A0A0; background: #FFFFFF;">            'message','Plot empty.');</span><br/>               <span style="color: #A0A0A0"> 359</span> <span style="color: #A0A0A0; background: #FFFFFF;">        hfig=ancestor(ha,'figure');</span><br/>               <span style="color: #A0A0A0"> 360</span> <span style="color: #A0A0A0; background: #FFFFFF;">        ltogg = uigettool(hfig,'Annotation.InsertLegend');</span><br/>               <span style="color: #A0A0A0"> 361</span> <span style="color: #A0A0A0; background: #FFFFFF;">        if ~isempty(ltogg)</span><br/>               <span style="color: #A0A0A0"> 362</span> <span style="color: #A0A0A0; background: #FFFFFF;">            set(ltogg,'State','off');</span><br/>               <span style="color: #A0A0A0"> 363</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end</span><br/>               <span style="color: #A0A0A0"> 364</span> <span style="color: #A0A0A0; background: #FFFFFF;">        leg = [];</span><br/>               <span style="color: #A0A0A0"> 365</span> <span style="color: #A0A0A0; background: #FFFFFF;">        return;</span><br/>               <span style="color: #A0A0A0"> 366</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end</span><br/>               <span style="color: #A0A0A0"> 367</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/>       <span style="color: #0000FF">     17 </span><span style="color: #000000; font-weight: bold"> 368</span> <span style="color: #000000; background: #FFFFFF;">for k=1:length(children) </span><br/>       <span style="color: #0000FF">     51 </span><span style="color: #000000; font-weight: bold"> 369</span> <span style="color: #000000; background: #FFFFFF;">    child = children(k); </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">     51 </span><span style="color: #000000; font-weight: bold"> 370</span> <span style="color: #000000; background: #FFFFFF;">    leginfo = getappdata(child,'LegendLegendInfo'); </span><br/>       <span style="color: #0000FF">     51 </span><span style="color: #000000; font-weight: bold"> 371</span> <span style="color: #000000; background: #FFFFFF;">    if isappdata(child,'LegendLegendInfo') &amp;&amp; ... </span><br/>               <span style="color: #A0A0A0"> 372</span> <span style="color: #000000; background: #FFFFFF;">            (isempty(leginfo) || ~ishandle(leginfo))</span><br/>               <span style="color: #A0A0A0"> 373</span> <span style="color: #A0A0A0; background: #FFFFFF;">        try</span><br/>               <span style="color: #A0A0A0"> 374</span> <span style="color: #A0A0A0; background: #FFFFFF;">            setLegendInfo(handle(child));</span><br/>               <span style="color: #A0A0A0"> 375</span> <span style="color: #A0A0A0; background: #FFFFFF;">        catch ex %#ok&lt;NASGU&gt;</span><br/>               <span style="color: #A0A0A0"> 376</span> <span style="color: #A0A0A0; background: #FFFFFF;">            lis = getappdata(child, 'LegendLegendInfoStruct');</span><br/>               <span style="color: #A0A0A0"> 377</span> <span style="color: #A0A0A0; background: #FFFFFF;">            if ~isempty(lis)</span><br/>               <span style="color: #A0A0A0"> 378</span> <span style="color: #A0A0A0; background: #FFFFFF;">                legendinfo(child, lis{:});</span><br/>               <span style="color: #A0A0A0"> 379</span> <span style="color: #A0A0A0; background: #FFFFFF;">            end</span><br/>               <span style="color: #A0A0A0"> 380</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end</span><br/>               <span style="color: #A0A0A0"> 381</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end</span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">     51 </span><span style="color: #000000; font-weight: bold"> 382</span> <span style="color: #000000; background: #FFFFFF;">end </span><br/>               <span style="color: #A0A0A0"> 383</span> <span style="color: #228B22; background: #FFFFFF;">% fill in strings if needed</span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">     17 </span><span style="color: #000000; font-weight: bold"> 384</span> <a name="Line384"></a><span style="color: #000000; background: #FFFFFF;">[children,strings,warnmsg] = <a href="file171.html">check_legend_strings</a>(children,strings,auto_children); </span><br/>               <span style="color: #A0A0A0"> 385</span> <span style="color: #228B22; background: #FFFFFF;">% create legend</span><br/><span style="color: #FF0000">  1.12 </span><span style="color: #0000FF">     17 </span><span style="color: #000000; font-weight: bold"> 386</span> <a name="Line386"></a><span style="color: #000000; background: #FF8080;">lh=scribe.legend(ha,orient,location,position,children,listen,strings,propargs{:}); </span><br/>               <span style="color: #A0A0A0"> 387</span> <span style="color: #228B22; background: #FFFFFF;">% convert to double</span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">     17 </span><span style="color: #000000; font-weight: bold"> 388</span> <a name="Line388"></a><span style="color: #000000; background: #FFFFFF;">leg=double(lh); </span><br/>               <span style="color: #A0A0A0"> 389</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 390</span> <span style="color: #228B22; background: #FFFFFF;">% Inform basic fitting that legend is ready</span><br/>       <span style="color: #0000FF">     17 </span><span style="color: #000000; font-weight: bold"> 391</span> <span style="color: #000000; background: #FFFFFF;">send(lh, 'LegendConstructorDone', handle.EventData(handle(lh), 'LegendConstructorDone')); </span><br/></pre><p><p>Other subfunctions in this file are not included in this listing.</body></html>