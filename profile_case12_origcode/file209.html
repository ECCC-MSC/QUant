<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252" /><link rel="stylesheet" href="file:///C:\Program Files (x86)\MATLAB\R2012a\toolbox\matlab\codetools\matlab-report-styles.css" type="text/css" /><title>Function details for legendcolorbarlayout>doInOutLayout</title><link rel="stylesheet" href="file:///C:\Program Files (x86)\MATLAB\R2012a\toolbox\matlab\codetools\matlab-report-styles.css" type="text/css" /></head><body bgcolor="#F8F8F8"><strong>This is a static copy of a profile report</strong><p><a href="file0.html">Home</a><p><span style="font-size:14pt; background:#FFE4B0">legendcolorbarlayout>doInOutLayout (570 calls, 1.295 sec)</span><br/><i>Generated 24-Mar-2015 14:23:10 using cpu time.</i><br/>subfunction in file C:\Program Files (x86)\MATLAB\R2012a\toolbox\matlab\scribe\legendcolorbarlayout.m<br/>Copy to new window for comparing multiple runs<div class="grayline"/><div class="grayline"/><strong>Parents</strong> (calling functions)<br/><p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Name</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Type</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td></tr><tr><td class="td-linebottomrt"><a href="file204.html">legendcolorbarlayout>doLayout</a></td><td class="td-linebottomrt">subfunction</td><td class="td-linebottomrt">570</td></tr></table><div class="grayline"/><strong>Lines where the most time was spent</strong><br/> <p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Line Number</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Code</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Total Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">% Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Time Plot</td></tr><tr><td class="td-linebottomrt"><a href="#Line491">491</a></td><td class="td-linebottomrt"><pre>siz_norm = methods(handle(obj)...</pre></td><td class="td-linebottomrt">533</td><td class="td-linebottomrt">0.875 s</td><td class="td-linebottomrt" class="td-linebottomrt">67.6%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files (x86)\MATLAB\R2012a\toolbox\matlab\codetools\private\one-pixel.gif" width=68 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line500">500</a></td><td class="td-linebottomrt"><pre>fpos = getpixelposition(fig);</pre></td><td class="td-linebottomrt">570</td><td class="td-linebottomrt">0.093 s</td><td class="td-linebottomrt" class="td-linebottomrt">7.2%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files (x86)\MATLAB\R2012a\toolbox\matlab\codetools\private\one-pixel.gif" width=7 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line488">488</a></td><td class="td-linebottomrt"><pre>oldpos = get(obj,'Position');</pre></td><td class="td-linebottomrt">570</td><td class="td-linebottomrt">0.082 s</td><td class="td-linebottomrt" class="td-linebottomrt">6.3%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files (x86)\MATLAB\R2012a\toolbox\matlab\codetools\private\one-pixel.gif" width=6 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line489">489</a></td><td class="td-linebottomrt"><pre>oldpos = hgconvertunits(fig,ol...</pre></td><td class="td-linebottomrt">570</td><td class="td-linebottomrt">0.035 s</td><td class="td-linebottomrt" class="td-linebottomrt">2.7%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files (x86)\MATLAB\R2012a\toolbox\matlab\codetools\private\one-pixel.gif" width=3 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line496">496</a></td><td class="td-linebottomrt"><pre>[newpos,corners] = layoutLegen...</pre></td><td class="td-linebottomrt">533</td><td class="td-linebottomrt">0.032 s</td><td class="td-linebottomrt" class="td-linebottomrt">2.5%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files (x86)\MATLAB\R2012a\toolbox\matlab\codetools\private\one-pixel.gif" width=2 height=10></td></tr><tr><td class="td-linebottomrt">All other lines</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">0.178 s</td><td class="td-linebottomrt">13.7%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files (x86)\MATLAB\R2012a\toolbox\matlab\codetools\private\one-pixel.gif" width=14 height=10></td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Totals</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">1.295 s</td><td class="td-linebottomrt" bgcolor="#F0F0F0">100%</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td></tr></table><div class="grayline"/><b>Children</b> (called functions)<br/><p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Name</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Type</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Total Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">% Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Time Plot</td></tr><tr><td class="td-linebottomrt"><a href="file217.html">scribe.legend.methods</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">533</td><td class="td-linebottomrt">0.866 s</td><td class="td-linebottomrt">66.9%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files (x86)\MATLAB\R2012a\toolbox\matlab\codetools\private\one-pixel.gif" width=67 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file213.html">getpixelposition</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">570</td><td class="td-linebottomrt">0.086 s</td><td class="td-linebottomrt">6.6%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files (x86)\MATLAB\R2012a\toolbox\matlab\codetools\private\one-pixel.gif" width=7 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file148.html">scribe.legend.init>computePos</a></td><td class="td-linebottomrt">subfunction</td><td class="td-linebottomrt">533</td><td class="td-linebottomrt">0.054 s</td><td class="td-linebottomrt">4.2%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files (x86)\MATLAB\R2012a\toolbox\matlab\codetools\private\one-pixel.gif" width=4 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file170.html">legendcolorbarlayout>localGetTitleHeight</a></td><td class="td-linebottomrt">subfunction</td><td class="td-linebottomrt">61</td><td class="td-linebottomrt">0.031 s</td><td class="td-linebottomrt">2.4%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files (x86)\MATLAB\R2012a\toolbox\matlab\codetools\private\one-pixel.gif" width=2 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file214.html">legendcolorbarlayout>layoutLegend</a></td><td class="td-linebottomrt">subfunction</td><td class="td-linebottomrt">533</td><td class="td-linebottomrt">0.025 s</td><td class="td-linebottomrt">1.9%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files (x86)\MATLAB\R2012a\toolbox\matlab\codetools\private\one-pixel.gif" width=2 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file169.html">...ndcolorbarlayout>localGetXLabelHeight</a></td><td class="td-linebottomrt">subfunction</td><td class="td-linebottomrt">12</td><td class="td-linebottomrt">0.010 s</td><td class="td-linebottomrt">0.8%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files (x86)\MATLAB\R2012a\toolbox\matlab\codetools\private\one-pixel.gif" width=1 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file149.html">scribe.legend.init>changedPos</a></td><td class="td-linebottomrt">subfunction</td><td class="td-linebottomrt">53</td><td class="td-linebottomrt">0.004 s</td><td class="td-linebottomrt">0.3%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files (x86)\MATLAB\R2012a\toolbox\matlab\codetools\private\one-pixel.gif" width=0 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file216.html">scribe.colorbar.init>changedPos</a></td><td class="td-linebottomrt">subfunction</td><td class="td-linebottomrt">15</td><td class="td-linebottomrt">0.004 s</td><td class="td-linebottomrt">0.3%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files (x86)\MATLAB\R2012a\toolbox\matlab\codetools\private\one-pixel.gif" width=0 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file215.html">...ndcolorbarlayout>location_to_xy_index</a></td><td class="td-linebottomrt">subfunction</td><td class="td-linebottomrt">61</td><td class="td-linebottomrt">0.002 s</td><td class="td-linebottomrt">0.2%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files (x86)\MATLAB\R2012a\toolbox\matlab\codetools\private\one-pixel.gif" width=0 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file211.html">legendcolorbarlayout>layoutColorbar</a></td><td class="td-linebottomrt">subfunction</td><td class="td-linebottomrt">37</td><td class="td-linebottomrt">0.001 s</td><td class="td-linebottomrt">0.1%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files (x86)\MATLAB\R2012a\toolbox\matlab\codetools\private\one-pixel.gif" width=0 height=10></td></tr><tr><td class="td-linebottomrt">Self time (built-ins, overhead, etc.)</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">0.212 s</td><td class="td-linebottomrt">16.4%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files (x86)\MATLAB\R2012a\toolbox\matlab\codetools\private\one-pixel.gif" width=16 height=10></td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Totals</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">1.295 s</td><td class="td-linebottomrt" bgcolor="#F0F0F0">100%</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td></tr></table><div class="grayline"/><strong>Code Analyzer results</strong><br/>No Code Analyzer messages.<div class="grayline"/><strong>Coverage results</strong><br/>Show coverage for parent directory <br/><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Total lines in function</td><td class="td-linebottomrt">172</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Non-code lines (comments, blank lines)</td><td class="td-linebottomrt">15</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines (lines that can run)</td><td class="td-linebottomrt">157</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines that did run</td><td class="td-linebottomrt">70</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines that did not run</td><td class="td-linebottomrt">87</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Coverage (did run/can run)</td><td class="td-linebottomrt">44.59 %</td></tr></table><div class="grayline"/><b>Function listing</b><br/><pre> <span style="color: #FF0000; font-weight: bold; text-decoration: none">  time</span> <span style="color: #0000FF; font-weight: bold; text-decoration: none">  calls</span>  <span style="font-weight: bold; text-decoration: none">line</span><br/>               <span style="color: #A0A0A0"> 456</span> <span style="color: #A0A0A0; background: #FFFFFF;">function doInOutLayout(par,fig,list,corner1,corner2,inner)</span><br/>       <span style="color: #0000FF">    570 </span><span style="color: #000000; font-weight: bold"> 457</span> <span style="color: #000000; background: #FFFFFF;">if inner </span><br/>       <span style="color: #0000FF">    533 </span><span style="color: #000000; font-weight: bold"> 458</span> <span style="color: #000000; background: #FFFFFF;">    corner1 = corner1+[5 -5]; </span><br/>       <span style="color: #0000FF">    533 </span><span style="color: #000000; font-weight: bold"> 459</span> <span style="color: #000000; background: #FFFFFF;">    corner2 = corner2+[-5 5]; </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">    533 </span><span style="color: #000000; font-weight: bold"> 460</span> <span style="color: #000000; background: #FFFFFF;">    corners = [corner1 ; corner2]; </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">    533 </span><span style="color: #000000; font-weight: bold"> 461</span> <span style="color: #000000; background: #FFFFFF;">    origc = corners; </span><br/>       <span style="color: #0000FF">     37 </span><span style="color: #000000; font-weight: bold"> 462</span> <span style="color: #228B22; background: #FFFFFF;">else </span><br/>               <span style="color: #A0A0A0"> 463</span> <span style="color: #228B22; background: #FFFFFF;">    % could use TightInsets here but then the legend/colorbars bounce too much</span><br/>               <span style="color: #A0A0A0"> 464</span> <span style="color: #228B22; background: #FFFFFF;">    % during rotating/panning etc so instead use a fixed offset.</span><br/>       <span style="color: #0000FF">     37 </span><span style="color: #000000; font-weight: bold"> 465</span> <span style="color: #000000; background: #FFFFFF;">    origc = [corner1 ; corner2]; </span><br/>       <span style="color: #0000FF">     37 </span><span style="color: #000000; font-weight: bold"> 466</span> <span style="color: #000000; background: #FFFFFF;">    corner1 = corner1-[10 -10]; </span><br/>       <span style="color: #0000FF">     37 </span><span style="color: #000000; font-weight: bold"> 467</span> <span style="color: #000000; background: #FFFFFF;">    corner2 = corner2-[-10 10]; </span><br/>       <span style="color: #0000FF">     37 </span><span style="color: #000000; font-weight: bold"> 468</span> <span style="color: #000000; background: #FFFFFF;">    corners = [corner1 ; corner2]; </span><br/>       <span style="color: #0000FF">     37 </span><span style="color: #000000; font-weight: bold"> 469</span> <span style="color: #000000; background: #FFFFFF;">end </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">    570 </span><span style="color: #000000; font-weight: bold"> 470</span> <span style="color: #000000; background: #FFFFFF;">for k=1:length(list) </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">    570 </span><span style="color: #000000; font-weight: bold"> 471</span> <span style="color: #000000; background: #FFFFFF;">    obj = list(k); </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">    570 </span><span style="color: #000000; font-weight: bold"> 472</span> <span style="color: #000000; background: #FFFFFF;">    if ~ishandle(obj), continue; end </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">    570 </span><span style="color: #000000; font-weight: bold"> 473</span> <span style="color: #000000; background: #FFFFFF;">    location = get(obj,'Location'); </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">    570 </span><span style="color: #000000; font-weight: bold"> 474</span> <span style="color: #000000; background: #FFFFFF;">    if strcmp(location,'BestOutside') </span><br/>               <span style="color: #A0A0A0"> 475</span> <span style="color: #A0A0A0; background: #FFFFFF;">        location = calculate_best_outside(obj);</span><br/>               <span style="color: #A0A0A0"> 476</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end</span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">    570 </span><span style="color: #000000; font-weight: bold"> 477</span> <span style="color: #000000; background: #FFFFFF;">    if strcmp(location,'Best') </span><br/>               <span style="color: #A0A0A0"> 478</span> <span style="color: #A0A0A0; background: #FFFFFF;">        pos = getappdata(double(obj),'LegendBestLocation');</span><br/>               <span style="color: #A0A0A0"> 479</span> <span style="color: #A0A0A0; background: #FFFFFF;">        ax = get(obj,'Axes');</span><br/>               <span style="color: #A0A0A0"> 480</span> <span style="color: #A0A0A0; background: #FFFFFF;">        axpos = get(ax,'Position');</span><br/>               <span style="color: #A0A0A0"> 481</span> <span style="color: #A0A0A0; background: #FFFFFF;">        axpos = hgconvertunits(fig,axpos,get(ax,'Units'),'normalized',par);</span><br/>               <span style="color: #A0A0A0"> 482</span> <span style="color: #A0A0A0; background: #FFFFFF;">        pos = axpos(1:2) + pos.*axpos(3:4);</span><br/>               <span style="color: #A0A0A0"> 483</span> <span style="color: #A0A0A0; background: #FFFFFF;">        pos = hgconvertunits(fig,[pos 0 0],'normalized',get(obj,'Units'),par);</span><br/>               <span style="color: #A0A0A0"> 484</span> <span style="color: #A0A0A0; background: #FFFFFF;">        oldpos = get(obj,'Position');</span><br/>               <span style="color: #A0A0A0"> 485</span> <span style="color: #A0A0A0; background: #FFFFFF;">        set(obj,'Position',[pos(1:2) oldpos(3:4)]);</span><br/>               <span style="color: #A0A0A0"> 486</span> <span style="color: #A0A0A0; background: #FFFFFF;">        continue;</span><br/>               <span style="color: #A0A0A0"> 487</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end</span><br/><span style="color: #FF0000">  0.08 </span><span style="color: #0000FF">    570 </span><span style="color: #000000; font-weight: bold"> 488</span> <a name="Line488"></a><span style="color: #000000; background: #FFFFFF;">    oldpos = get(obj,'Position'); </span><br/><span style="color: #FF0000">  0.03 </span><span style="color: #0000FF">    570 </span><span style="color: #000000; font-weight: bold"> 489</span> <a name="Line489"></a><span style="color: #000000; background: #FFFFFF;">    oldpos = hgconvertunits(fig,oldpos,get(obj,'Units'),'points', par); </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">    570 </span><span style="color: #000000; font-weight: bold"> 490</span> <span style="color: #000000; background: #FFFFFF;">    if isa(obj,'scribe.legend') </span><br/><span style="color: #FF0000">  0.87 </span><span style="color: #0000FF">    533 </span><span style="color: #000000; font-weight: bold"> 491</span> <a name="Line491"></a><span style="color: #000000; background: #FF8080;">        siz_norm = methods(handle(obj),'getsize'); </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">    533 </span><span style="color: #000000; font-weight: bold"> 492</span> <span style="color: #000000; background: #FFFFFF;">        if ~all(isfinite(siz_norm)) </span><br/>               <span style="color: #A0A0A0"> 493</span> <span style="color: #A0A0A0; background: #FFFFFF;">            continue;</span><br/>               <span style="color: #A0A0A0"> 494</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end</span><br/><span style="color: #FF0000">  0.02 </span><span style="color: #0000FF">    533 </span><span style="color: #000000; font-weight: bold"> 495</span> <span style="color: #000000; background: #FFFFFF;">        siz_point =  hgconvertunits(fig,[0 0 siz_norm],'normalized','points',par); </span><br/><span style="color: #FF0000">  0.03 </span><span style="color: #0000FF">    533 </span><span style="color: #000000; font-weight: bold"> 496</span> <a name="Line496"></a><span style="color: #000000; background: #FFFFFF;">        [newpos,corners] = <a href="file214.html">layoutLegend</a>(location,corners,origc,siz_point(3:4),inner); </span><br/>       <span style="color: #0000FF">     37 </span><span style="color: #000000; font-weight: bold"> 497</span> <span style="color: #228B22; background: #FFFFFF;">    else </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">     37 </span><span style="color: #000000; font-weight: bold"> 498</span> <span style="color: #000000; background: #FFFFFF;">        [newpos,corners] = <a href="file211.html">layoutColorbar</a>(location,corners,origc); </span><br/>       <span style="color: #0000FF">     37 </span><span style="color: #000000; font-weight: bold"> 499</span> <span style="color: #000000; background: #FFFFFF;">    end </span><br/><span style="color: #FF0000">  0.09 </span><span style="color: #0000FF">    570 </span><span style="color: #000000; font-weight: bold"> 500</span> <a name="Line500"></a><span style="color: #000000; background: #FFF0F0;">    fpos = <a href="file213.html">getpixelposition</a>(fig); </span><br/><span style="color: #FF0000">  0.02 </span><span style="color: #0000FF">    570 </span><span style="color: #000000; font-weight: bold"> 501</span> <span style="color: #000000; background: #FFFFFF;">    fpos = hgconvertunits(fig,fpos,'pixels','points',fig); </span><br/>       <span style="color: #0000FF">    570 </span><span style="color: #000000; font-weight: bold"> 502</span> <span style="color: #000000; background: #FFFFFF;">    newpos(2) = fpos(4) - newpos(2); </span><br/>       <span style="color: #0000FF">    570 </span><span style="color: #000000; font-weight: bold"> 503</span> <span style="color: #000000; background: #FFFFFF;">    if par ~= fig </span><br/>               <span style="color: #A0A0A0"> 504</span> <span style="color: #A0A0A0; background: #FFFFFF;">        parpos = getpixelposition(par,true);</span><br/>               <span style="color: #A0A0A0"> 505</span> <span style="color: #A0A0A0; background: #FFFFFF;">        parpos = hgconvertunits(fig,parpos,'pixels','points',get(par,'Parent'));</span><br/>               <span style="color: #A0A0A0"> 506</span> <span style="color: #A0A0A0; background: #FFFFFF;">        newpos(1:2) = newpos(1:2) - parpos(1:2);</span><br/>               <span style="color: #A0A0A0"> 507</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end</span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">    570 </span><span style="color: #000000; font-weight: bold"> 508</span> <span style="color: #000000; background: #FFFFFF;">    if any(abs(newpos(1:2)-oldpos(1:2))&gt;2) || ... </span><br/>               <span style="color: #A0A0A0"> 509</span> <span style="color: #000000; background: #FFFFFF;">            any(abs(newpos(1:2)+newpos(3:4)-oldpos(1:2)-oldpos(3:4))&gt;2)</span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">     61 </span><span style="color: #000000; font-weight: bold"> 510</span> <span style="color: #000000; background: #FFFFFF;">        newpos =  hgconvertunits(fig,newpos,'points',get(obj,'Units'),par); </span><br/>               <span style="color: #A0A0A0"> 511</span> <span style="color: #228B22; background: #FFFFFF;">        % In order to ensure that the computations are correct, keep track</span><br/>               <span style="color: #A0A0A0"> 512</span> <span style="color: #228B22; background: #FFFFFF;">        % of the location of the object and the x and y axes.</span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">     61 </span><span style="color: #000000; font-weight: bold"> 513</span> <span style="color: #000000; background: #FFFFFF;">        ind = <a href="file215.html">location_to_xy_index</a>(location); </span><br/>       <span style="color: #0000FF">     61 </span><span style="color: #000000; font-weight: bold"> 514</span> <span style="color: #000000; background: #FFFFFF;">        x = ind(1); </span><br/>       <span style="color: #0000FF">     61 </span><span style="color: #000000; font-weight: bold"> 515</span> <span style="color: #000000; background: #FFFFFF;">        y = ind(2); </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">     61 </span><span style="color: #000000; font-weight: bold"> 516</span> <span style="color: #000000; background: #FFFFFF;">        xAxisLoc = get(obj.Axes,'XAxisLocation'); </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">     61 </span><span style="color: #000000; font-weight: bold"> 517</span> <span style="color: #000000; background: #FFFFFF;">        yAxisLoc = get(obj.Axes,'YAxisLocation'); </span><br/>       <span style="color: #0000FF">     61 </span><span style="color: #000000; font-weight: bold"> 518</span> <span style="color: #000000; background: #FFFFFF;">        if ~any(isnan(newpos)) &amp;&amp; all(newpos(3:4) &gt; 0) </span><br/>               <span style="color: #A0A0A0"> 519</span> <span style="color: #228B22; background: #FFFFFF;">            % If we had to shift the computations based on the XLabel and</span><br/>               <span style="color: #A0A0A0"> 520</span> <span style="color: #228B22; background: #FFFFFF;">            % YLabel, make sure to shift the objects back:</span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">     61 </span><span style="color: #000000; font-weight: bold"> 521</span> <span style="color: #000000; background: #FFFFFF;">            if ~isa(obj,'scribe.legend') </span><br/>       <span style="color: #0000FF">     12 </span><span style="color: #000000; font-weight: bold"> 522</span> <span style="color: #000000; background: #FFFFFF;">                if x ~= 3 %Anything except North* and South* </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">     12 </span><span style="color: #000000; font-weight: bold"> 523</span> <span style="color: #000000; background: #FFFFFF;">                    labPos = <a href="file169.html">localGetXLabelHeight</a>(obj.Axes,obj.Units); </span><br/>       <span style="color: #0000FF">     12 </span><span style="color: #000000; font-weight: bold"> 524</span> <span style="color: #000000; background: #FFFFFF;">                    if strcmpi(xAxisLoc,'Bottom') </span><br/>       <span style="color: #0000FF">     12 </span><span style="color: #000000; font-weight: bold"> 525</span> <span style="color: #000000; background: #FFFFFF;">                        newpos(2) = newpos(2) + labPos; </span><br/>       <span style="color: #0000FF">     12 </span><span style="color: #000000; font-weight: bold"> 526</span> <span style="color: #000000; background: #FFFFFF;">                    end </span><br/>       <span style="color: #0000FF">     12 </span><span style="color: #000000; font-weight: bold"> 527</span> <span style="color: #000000; background: #FFFFFF;">                    newpos(4) = newpos(4) - labPos; </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">     12 </span><span style="color: #000000; font-weight: bold"> 528</span> <span style="color: #000000; background: #FFFFFF;">                    labPos = <a href="file170.html">localGetTitleHeight</a>(obj.Axes,obj.Units); </span><br/>       <span style="color: #0000FF">     12 </span><span style="color: #000000; font-weight: bold"> 529</span> <span style="color: #000000; background: #FFFFFF;">                    newpos(4) = newpos(4) - labPos; </span><br/>               <span style="color: #A0A0A0"> 530</span> <span style="color: #A0A0A0; background: #FFFFFF;">                elseif x == 3 % North* and South*</span><br/>               <span style="color: #A0A0A0"> 531</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    labPos = localGetYLabelWidth(obj.Axes,obj.Units);</span><br/>               <span style="color: #A0A0A0"> 532</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    if strcmpi(yAxisLoc,'Left')</span><br/>               <span style="color: #A0A0A0"> 533</span> <span style="color: #A0A0A0; background: #FFFFFF;">                        newpos(1) = newpos(1) + labPos;</span><br/>               <span style="color: #A0A0A0"> 534</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    end</span><br/>               <span style="color: #A0A0A0"> 535</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    newpos(3) = newpos(3) - labPos;</span><br/>               <span style="color: #A0A0A0"> 536</span> <span style="color: #A0A0A0; background: #FFFFFF;">                end</span><br/>       <span style="color: #0000FF">     12 </span><span style="color: #000000; font-weight: bold"> 537</span> <span style="color: #000000; background: #FFFFFF;">                if strcmpi(xAxisLoc,'Bottom') </span><br/>       <span style="color: #0000FF">     12 </span><span style="color: #000000; font-weight: bold"> 538</span> <span style="color: #000000; background: #FFFFFF;">                    if (x == 3) &amp;&amp; (y == 4) % South </span><br/>               <span style="color: #A0A0A0"> 539</span> <span style="color: #A0A0A0; background: #FFFFFF;">                        labPos = localGetXLabelHeight(obj.Axes,obj.Units);</span><br/>               <span style="color: #A0A0A0"> 540</span> <span style="color: #A0A0A0; background: #FFFFFF;">                        newpos(2) = newpos(2) + labPos;</span><br/>               <span style="color: #A0A0A0"> 541</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    end</span><br/>               <span style="color: #A0A0A0"> 542</span> <span style="color: #228B22; background: #FFFFFF;">                else</span><br/>               <span style="color: #A0A0A0"> 543</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    if (x == 3) &amp;&amp; (y  == 2)  % North</span><br/>               <span style="color: #A0A0A0"> 544</span> <span style="color: #A0A0A0; background: #FFFFFF;">                        labPos = localGetXLabelHeight(obj.Axes,obj.Units);</span><br/>               <span style="color: #A0A0A0"> 545</span> <span style="color: #A0A0A0; background: #FFFFFF;">                        newpos(2) = newpos(2) - labPos;</span><br/>               <span style="color: #A0A0A0"> 546</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    end</span><br/>               <span style="color: #A0A0A0"> 547</span> <span style="color: #A0A0A0; background: #FFFFFF;">                end</span><br/>       <span style="color: #0000FF">     12 </span><span style="color: #000000; font-weight: bold"> 548</span> <span style="color: #000000; background: #FFFFFF;">                if strcmpi(yAxisLoc,'Left') </span><br/>       <span style="color: #0000FF">     12 </span><span style="color: #000000; font-weight: bold"> 549</span> <span style="color: #000000; background: #FFFFFF;">                    if (x == 2) &amp;&amp; (y == 3) % West </span><br/>               <span style="color: #A0A0A0"> 550</span> <span style="color: #A0A0A0; background: #FFFFFF;">                        labPos = localGetYLabelWidth(obj.Axes,obj.Units);</span><br/>               <span style="color: #A0A0A0"> 551</span> <span style="color: #A0A0A0; background: #FFFFFF;">                        newpos(1) = newpos(1) + labPos;</span><br/>               <span style="color: #A0A0A0"> 552</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    end</span><br/>               <span style="color: #A0A0A0"> 553</span> <span style="color: #228B22; background: #FFFFFF;">                else</span><br/>               <span style="color: #A0A0A0"> 554</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    if (x == 4) &amp;&amp; (y == 3) % East</span><br/>               <span style="color: #A0A0A0"> 555</span> <span style="color: #A0A0A0; background: #FFFFFF;">                        labPos = localGetYLabelWidth(obj.Axes,obj.Units);</span><br/>               <span style="color: #A0A0A0"> 556</span> <span style="color: #A0A0A0; background: #FFFFFF;">                        newpos(1) = newpos(1) - labPos;</span><br/>               <span style="color: #A0A0A0"> 557</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    end</span><br/>               <span style="color: #A0A0A0"> 558</span> <span style="color: #A0A0A0; background: #FFFFFF;">                end</span><br/>       <span style="color: #0000FF">     12 </span><span style="color: #000000; font-weight: bold"> 559</span> <span style="color: #000000; background: #FFFFFF;">                if (x == 3) &amp;&amp; (y == 2) % North </span><br/>               <span style="color: #A0A0A0"> 560</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    labPos = localGetTitleHeight(obj.Axes,obj.Units);</span><br/>               <span style="color: #A0A0A0"> 561</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    newpos(2) = newpos(2) - labPos;</span><br/>               <span style="color: #A0A0A0"> 562</span> <span style="color: #A0A0A0; background: #FFFFFF;">                end</span><br/>       <span style="color: #0000FF">     49 </span><span style="color: #000000; font-weight: bold"> 563</span> <span style="color: #228B22; background: #FFFFFF;">            else </span><br/>               <span style="color: #A0A0A0"> 564</span> <span style="color: #228B22; background: #FFFFFF;">                % Legends have a preferred width (not mirroring the axes), so</span><br/>               <span style="color: #A0A0A0"> 565</span> <span style="color: #228B22; background: #FFFFFF;">                % we need to do a bit more work.</span><br/>       <span style="color: #0000FF">     49 </span><span style="color: #000000; font-weight: bold"> 566</span> <span style="color: #000000; background: #FFFFFF;">                if strcmpi(yAxisLoc,'Left') </span><br/>       <span style="color: #0000FF">     49 </span><span style="color: #000000; font-weight: bold"> 567</span> <span style="color: #000000; background: #FFFFFF;">                    if x == 2 % Anything West and Inside </span><br/>               <span style="color: #A0A0A0"> 568</span> <span style="color: #A0A0A0; background: #FFFFFF;">                        labPos = localGetYLabelWidth(obj.Axes,obj.Units);</span><br/>               <span style="color: #A0A0A0"> 569</span> <span style="color: #A0A0A0; background: #FFFFFF;">                        newpos(1) = newpos(1) + labPos;</span><br/>               <span style="color: #A0A0A0"> 570</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    end</span><br/>               <span style="color: #A0A0A0"> 571</span> <span style="color: #228B22; background: #FFFFFF;">                else</span><br/>               <span style="color: #A0A0A0"> 572</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    if x == 4 % Anything East and Inside</span><br/>               <span style="color: #A0A0A0"> 573</span> <span style="color: #A0A0A0; background: #FFFFFF;">                        labPos = localGetYLabelWidth(obj.Axes,obj.Units);</span><br/>               <span style="color: #A0A0A0"> 574</span> <span style="color: #A0A0A0; background: #FFFFFF;">                        newpos(1) = newpos(1) - labPos;</span><br/>               <span style="color: #A0A0A0"> 575</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    end</span><br/>               <span style="color: #A0A0A0"> 576</span> <span style="color: #A0A0A0; background: #FFFFFF;">                end</span><br/>       <span style="color: #0000FF">     49 </span><span style="color: #000000; font-weight: bold"> 577</span> <span style="color: #000000; background: #FFFFFF;">                if y == 3 % East or West </span><br/>               <span style="color: #A0A0A0"> 578</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    labPos = localGetXLabelHeight(obj.Axes,obj.Units);</span><br/>               <span style="color: #A0A0A0"> 579</span> <span style="color: #228B22; background: #FFFFFF;">                    % Divide by two because we want to move the center down.</span><br/>               <span style="color: #A0A0A0"> 580</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    if strcmpi(xAxisLoc,'Bottom')</span><br/>               <span style="color: #A0A0A0"> 581</span> <span style="color: #A0A0A0; background: #FFFFFF;">                        newpos(2) = newpos(2) + labPos/2;</span><br/>               <span style="color: #A0A0A0"> 582</span> <span style="color: #228B22; background: #FFFFFF;">                    else</span><br/>               <span style="color: #A0A0A0"> 583</span> <span style="color: #A0A0A0; background: #FFFFFF;">                        newpos(2) = newpos(2) - labPos/2;</span><br/>               <span style="color: #A0A0A0"> 584</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    end</span><br/>               <span style="color: #A0A0A0"> 585</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    labPos = localGetTitleHeight(obj.Axes,obj.Units);</span><br/>               <span style="color: #A0A0A0"> 586</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    newpos(2) = newpos(2) - labPos/2;</span><br/>               <span style="color: #A0A0A0"> 587</span> <span style="color: #A0A0A0; background: #FFFFFF;">                end</span><br/>       <span style="color: #0000FF">     49 </span><span style="color: #000000; font-weight: bold"> 588</span> <span style="color: #000000; background: #FFFFFF;">                if (x == 3) &amp;&amp; ((y == 2) || (y == 4)) % North or South </span><br/>               <span style="color: #A0A0A0"> 589</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    labPos = localGetYLabelWidth(obj.Axes,obj.Units);</span><br/>               <span style="color: #A0A0A0"> 590</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    if strcmpi(yAxisLoc,'Left')</span><br/>               <span style="color: #A0A0A0"> 591</span> <span style="color: #228B22; background: #FFFFFF;">                        % Divide by two because we want to move the center over.</span><br/>               <span style="color: #A0A0A0"> 592</span> <span style="color: #A0A0A0; background: #FFFFFF;">                        newpos(1) = newpos(1) + labPos/2;</span><br/>               <span style="color: #A0A0A0"> 593</span> <span style="color: #228B22; background: #FFFFFF;">                    else</span><br/>               <span style="color: #A0A0A0"> 594</span> <span style="color: #228B22; background: #FFFFFF;">                        % Divide by two because we want to move the center over.</span><br/>               <span style="color: #A0A0A0"> 595</span> <span style="color: #A0A0A0; background: #FFFFFF;">                        newpos(1) = newpos(1) - labPos/2;</span><br/>               <span style="color: #A0A0A0"> 596</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    end</span><br/>               <span style="color: #A0A0A0"> 597</span> <span style="color: #A0A0A0; background: #FFFFFF;">                end</span><br/>       <span style="color: #0000FF">     49 </span><span style="color: #000000; font-weight: bold"> 598</span> <span style="color: #000000; background: #FFFFFF;">                if y == 2 % Anything North, but not Outside </span><br/><span style="color: #FF0000">  0.03 </span><span style="color: #0000FF">     49 </span><span style="color: #000000; font-weight: bold"> 599</span> <span style="color: #000000; background: #FFFFFF;">                    labPos = <a href="file170.html">localGetTitleHeight</a>(obj.Axes,obj.Units); </span><br/>       <span style="color: #0000FF">     49 </span><span style="color: #000000; font-weight: bold"> 600</span> <span style="color: #000000; background: #FFFFFF;">                    newpos(2) = newpos(2) - labPos; </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">     49 </span><span style="color: #000000; font-weight: bold"> 601</span> <span style="color: #000000; background: #FFFFFF;">                end </span><br/>       <span style="color: #0000FF">     49 </span><span style="color: #000000; font-weight: bold"> 602</span> <span style="color: #000000; background: #FFFFFF;">                if strcmpi(xAxisLoc,'Bottom') </span><br/>       <span style="color: #0000FF">     49 </span><span style="color: #000000; font-weight: bold"> 603</span> <span style="color: #000000; background: #FFFFFF;">                    if y == 4 % Anything South, but not Outside </span><br/>               <span style="color: #A0A0A0"> 604</span> <span style="color: #A0A0A0; background: #FFFFFF;">                        labPos = localGetXLabelHeight(obj.Axes,obj.Units);</span><br/>               <span style="color: #A0A0A0"> 605</span> <span style="color: #A0A0A0; background: #FFFFFF;">                        newpos(2) = newpos(2) + labPos;</span><br/>               <span style="color: #A0A0A0"> 606</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    end</span><br/>               <span style="color: #A0A0A0"> 607</span> <span style="color: #228B22; background: #FFFFFF;">                else</span><br/>               <span style="color: #A0A0A0"> 608</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    if y == 2 % Anything North, but not Outside</span><br/>               <span style="color: #A0A0A0"> 609</span> <span style="color: #A0A0A0; background: #FFFFFF;">                        labPos = localGetXLabelHeight(obj.Axes,obj.Units);</span><br/>               <span style="color: #A0A0A0"> 610</span> <span style="color: #A0A0A0; background: #FFFFFF;">                        newpos(2) = newpos(2) - labPos;</span><br/>               <span style="color: #A0A0A0"> 611</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    end</span><br/>               <span style="color: #A0A0A0"> 612</span> <span style="color: #A0A0A0; background: #FFFFFF;">                end</span><br/>       <span style="color: #0000FF">     49 </span><span style="color: #000000; font-weight: bold"> 613</span> <span style="color: #000000; background: #FFFFFF;">                if (x == 3) &amp;&amp; ((y == 1) || (y == 5)) % North or South Outside </span><br/>               <span style="color: #A0A0A0"> 614</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    labPos = localGetYLabelWidth(obj.Axes,obj.Units);</span><br/>               <span style="color: #A0A0A0"> 615</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    if strcmpi(yAxisLoc,'Left')</span><br/>               <span style="color: #A0A0A0"> 616</span> <span style="color: #228B22; background: #FFFFFF;">                        % Divide by two because we want to move the center over.</span><br/>               <span style="color: #A0A0A0"> 617</span> <span style="color: #A0A0A0; background: #FFFFFF;">                        newpos(1) = newpos(1) + labPos/2;</span><br/>               <span style="color: #A0A0A0"> 618</span> <span style="color: #228B22; background: #FFFFFF;">                    else</span><br/>               <span style="color: #A0A0A0"> 619</span> <span style="color: #228B22; background: #FFFFFF;">                        % Divide by two because we want to move the center over.</span><br/>               <span style="color: #A0A0A0"> 620</span> <span style="color: #A0A0A0; background: #FFFFFF;">                        newpos(1) = newpos(1) - labPos/2;</span><br/>               <span style="color: #A0A0A0"> 621</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    end</span><br/>               <span style="color: #A0A0A0"> 622</span> <span style="color: #A0A0A0; background: #FFFFFF;">                end</span><br/>       <span style="color: #0000FF">     49 </span><span style="color: #000000; font-weight: bold"> 623</span> <span style="color: #000000; background: #FFFFFF;">            end </span><br/><span style="color: #FF0000">  0.01 </span><span style="color: #0000FF">     61 </span><span style="color: #000000; font-weight: bold"> 624</span> <span style="color: #000000; background: #FFFFFF;">            set(obj,'Position',newpos); </span><br/>       <span style="color: #0000FF">     61 </span><span style="color: #000000; font-weight: bold"> 625</span> <span style="color: #000000; background: #FFFFFF;">        end </span><br/>       <span style="color: #0000FF">     61 </span><span style="color: #000000; font-weight: bold"> 626</span> <span style="color: #000000; background: #FFFFFF;">    end </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">    570 </span><span style="color: #000000; font-weight: bold"> 627</span> <span style="color: #000000; background: #FFFFFF;">end </span><br/></pre><p><p>Other subfunctions in this file are not included in this listing.</body></html>