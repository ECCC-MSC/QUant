<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252" /><link rel="stylesheet" href="file:///C:\Program Files (x86)\MATLAB\R2012a\toolbox\matlab\codetools\matlab-report-styles.css" type="text/css" /><title>Function details for scribe.legend.methods>create_legend_items</title><link rel="stylesheet" href="file:///C:\Program Files (x86)\MATLAB\R2012a\toolbox\matlab\codetools\matlab-report-styles.css" type="text/css" /></head><body bgcolor="#F8F8F8"><strong>This is a static copy of a profile report</strong><p><a href="file0.html">Home</a><p><span style="font-size:14pt; background:#FFE4B0">scribe.legend.methods>create_legend_items (17 calls, 0.266 sec)</span><br/><i>Generated 24-Mar-2015 14:22:52 using cpu time.</i><br/>subfunction in file C:\Program Files (x86)\MATLAB\R2012a\toolbox\matlab\scribe\@scribe\@legend\methods.m<br/>Copy to new window for comparing multiple runs<div class="grayline"/><div class="grayline"/><strong>Parents</strong> (calling functions)<br/><p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Name</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Type</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td></tr><tr><td class="td-linebottomrt"><a href="file217.html">scribe.legend.methods</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">17</td></tr></table><div class="grayline"/><strong>Lines where the most time was spent</strong><br/> <p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Line Number</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Code</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Total Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">% Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Time Plot</td></tr><tr><td class="td-linebottomrt"><a href="#Line1462">1462</a></td><td class="td-linebottomrt"><pre>set(texthandle(k),'ButtonDownF...</pre></td><td class="td-linebottomrt">51</td><td class="td-linebottomrt">0.122 s</td><td class="td-linebottomrt" class="td-linebottomrt">45.9%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files (x86)\MATLAB\R2012a\toolbox\matlab\codetools\private\one-pixel.gif" width=46 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line1428">1428</a></td><td class="td-linebottomrt"><pre>lpos(3:4) = methods(h,'getsize...</pre></td><td class="td-linebottomrt">17</td><td class="td-linebottomrt">0.034 s</td><td class="td-linebottomrt" class="td-linebottomrt">12.8%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files (x86)\MATLAB\R2012a\toolbox\matlab\codetools\private\one-pixel.gif" width=13 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line1426">1426</a></td><td class="td-linebottomrt"><pre>s = methods(h,'getsizeinfo');</pre></td><td class="td-linebottomrt">17</td><td class="td-linebottomrt">0.031 s</td><td class="td-linebottomrt" class="td-linebottomrt">11.7%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files (x86)\MATLAB\R2012a\toolbox\matlab\codetools\private\one-pixel.gif" width=12 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line1502">1502</a></td><td class="td-linebottomrt"><pre>tokenhandle(end+1) = line('Par...</pre></td><td class="td-linebottomrt">51</td><td class="td-linebottomrt">0.016 s</td><td class="td-linebottomrt" class="td-linebottomrt">6.0%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files (x86)\MATLAB\R2012a\toolbox\matlab\codetools\private\one-pixel.gif" width=6 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line1448">1448</a></td><td class="td-linebottomrt"><pre>texthandle(k) = text('Parent',...</pre></td><td class="td-linebottomrt">51</td><td class="td-linebottomrt">0.016 s</td><td class="td-linebottomrt" class="td-linebottomrt">6.0%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files (x86)\MATLAB\R2012a\toolbox\matlab\codetools\private\one-pixel.gif" width=6 height=10></td></tr><tr><td class="td-linebottomrt">All other lines</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">0.047 s</td><td class="td-linebottomrt">17.7%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files (x86)\MATLAB\R2012a\toolbox\matlab\codetools\private\one-pixel.gif" width=18 height=10></td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Totals</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">0.266 s</td><td class="td-linebottomrt" bgcolor="#F0F0F0">100%</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td></tr></table><div class="grayline"/><b>Children</b> (called functions)<br/><p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Name</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Type</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Total Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">% Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Time Plot</td></tr><tr><td class="td-linebottomrt"><a href="file217.html">scribe.legend.methods</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">85</td><td class="td-linebottomrt">0.183 s</td><td class="td-linebottomrt">68.8%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files (x86)\MATLAB\R2012a\toolbox\matlab\codetools\private\one-pixel.gif" width=69 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file152.html">opaque.double</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">204</td><td class="td-linebottomrt">0.007 s</td><td class="td-linebottomrt">2.6%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files (x86)\MATLAB\R2012a\toolbox\matlab\codetools\private\one-pixel.gif" width=3 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file220.html">scribe.legend.methods>localGetTokenItem</a></td><td class="td-linebottomrt">subfunction</td><td class="td-linebottomrt">51</td><td class="td-linebottomrt">0.003 s</td><td class="td-linebottomrt">1.1%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files (x86)\MATLAB\R2012a\toolbox\matlab\codetools\private\one-pixel.gif" width=1 height=10></td></tr><tr><td class="td-linebottomrt">Self time (built-ins, overhead, etc.)</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">0.073 s</td><td class="td-linebottomrt">27.4%</td><td class="td-linebottomrt"><img src="file:///C:\Program Files (x86)\MATLAB\R2012a\toolbox\matlab\codetools\private\one-pixel.gif" width=27 height=10></td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Totals</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">0.266 s</td><td class="td-linebottomrt" bgcolor="#F0F0F0">100%</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td></tr></table><div class="grayline"/><strong>Code Analyzer results</strong><br/><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Line number</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Message</td></tr><tr><td class="td-linebottomrt"><a href="#Line1474">1474</a></td><td class="td-linebottomrt"><span class="mono">The variable 'tokenhandle' appears to change size on every loop iteration. Consider preallocating for speed.</span></td></tr><tr><td class="td-linebottomrt"><a href="#Line1486">1486</a></td><td class="td-linebottomrt"><span class="mono">The variable 'tokenhandle' appears to change size on every loop iteration. Consider preallocating for speed.</span></td></tr><tr><td class="td-linebottomrt"><a href="#Line1502">1502</a></td><td class="td-linebottomrt"><span class="mono">The variable 'tokenhandle' appears to change size on every loop iteration. Consider preallocating for speed.</span></td></tr><tr><td class="td-linebottomrt"><a href="#Line1517">1517</a></td><td class="td-linebottomrt"><span class="mono">The variable 'tokenhandle' appears to change size on every loop iteration. Consider preallocating for speed.</span></td></tr><tr><td class="td-linebottomrt"><a href="#Line1546">1546</a></td><td class="td-linebottomrt"><span class="mono">The variable 'tokenhandle' appears to change size on every loop iteration. Consider preallocating for speed.</span></td></tr></table><div class="grayline"/><strong>Coverage results</strong><br/>Show coverage for parent directory <br/><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Total lines in function</td><td class="td-linebottomrt">159</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Non-code lines (comments, blank lines)</td><td class="td-linebottomrt">82</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines (lines that can run)</td><td class="td-linebottomrt">77</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines that did run</td><td class="td-linebottomrt">46</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines that did not run</td><td class="td-linebottomrt">31</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Coverage (did run/can run)</td><td class="td-linebottomrt">59.74 %</td></tr></table><div class="grayline"/><b>Function listing</b><br/><pre> <span style="color: #FF0000; font-weight: bold; text-decoration: none">  time</span> <span style="color: #0000FF; font-weight: bold; text-decoration: none">  calls</span>  <span style="font-weight: bold; text-decoration: none">line</span><br/>               <span style="color: #A0A0A0">1420</span> <span style="color: #A0A0A0; background: #FFFFFF;">function create_legend_items(h,children)</span><br/>       <span style="color: #0000FF">     17 </span><span style="color: #000000; font-weight: bold">1421</span> <span style="color: #000000; background: #FFFFFF;">children = double(children); </span><br/>               <span style="color: #A0A0A0">1422</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0">1423</span> <span style="color: #228B22; background: #FFFFFF;">% construct strings from string cell and counts</span><br/>       <span style="color: #0000FF">     17 </span><span style="color: #000000; font-weight: bold">1424</span> <span style="color: #000000; background: #FFFFFF;">strings = h.String; </span><br/>               <span style="color: #A0A0A0">1425</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/><span style="color: #FF0000">  0.03 </span><span style="color: #0000FF">     17 </span><span style="color: #000000; font-weight: bold">1426</span> <a name="Line1426"></a><span style="color: #000000; background: #FFE2E2;">s = methods(h,'getsizeinfo'); </span><br/>       <span style="color: #0000FF">     17 </span><span style="color: #000000; font-weight: bold">1427</span> <span style="color: #000000; background: #FFFFFF;">lpos = ones(1,4); </span><br/><span style="color: #FF0000">  0.03 </span><span style="color: #0000FF">     17 </span><span style="color: #000000; font-weight: bold">1428</span> <a name="Line1428"></a><span style="color: #000000; background: #FFE2E2;">lpos(3:4) = methods(h,'getsize',s); </span><br/>               <span style="color: #A0A0A0">1429</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0">1430</span> <span style="color: #228B22; background: #FFFFFF;">% initial token and text positions</span><br/>       <span style="color: #0000FF">     17 </span><span style="color: #000000; font-weight: bold">1431</span> <span style="color: #000000; background: #FFFFFF;">tokenx = [s.leftspace s.leftspace+s.tokenwidth]/lpos(3); </span><br/>       <span style="color: #0000FF">     17 </span><span style="color: #000000; font-weight: bold">1432</span> <span style="color: #000000; background: #FFFFFF;">textx = (s.leftspace+s.tokenwidth+s.tokentotextspace)/lpos(3); </span><br/>               <span style="color: #A0A0A0">1433</span> <span style="color: #228B22; background: #FFFFFF;">% initial ypos (for text and line items)</span><br/>       <span style="color: #0000FF">     17 </span><span style="color: #000000; font-weight: bold">1434</span> <span style="color: #000000; background: #FFFFFF;">ypos = 1 - ((s.topspace+(s.strsizes(1,2)/2))/lpos(4)); % middle of token </span><br/>               <span style="color: #A0A0A0">1435</span> <span style="color: #228B22; background: #FFFFFF;">% initial tokeny (top and bottom of patch) for patch items</span><br/>       <span style="color: #0000FF">     17 </span><span style="color: #000000; font-weight: bold">1436</span> <span style="color: #000000; background: #FFFFFF;">tokeny = ([s.strsizes(1,2)/-2.5 + s.rowspace/2, s.strsizes(1,2)/2.5 - s.rowspace/2]/lpos(4)) + ypos; </span><br/>               <span style="color: #A0A0A0">1437</span> <span style="color: #228B22; background: #FFFFFF;">% y increment for vertically oriented legends</span><br/>       <span style="color: #0000FF">     17 </span><span style="color: #000000; font-weight: bold">1438</span> <span style="color: #000000; background: #FFFFFF;">yinc = (s.rowspace + s.strsizes(:,2))/lpos(4); </span><br/>               <span style="color: #A0A0A0">1439</span> <span style="color: #228B22; background: #FFFFFF;">% x increment (not including string) for horizontally oriented legends</span><br/>       <span style="color: #0000FF">     17 </span><span style="color: #000000; font-weight: bold">1440</span> <span style="color: #000000; background: #FFFFFF;">xinc = (s.tokenwidth + s.tokentotextspace + s.colspace)/lpos(3); </span><br/>               <span style="color: #A0A0A0">1441</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>       <span style="color: #0000FF">     17 </span><span style="color: #000000; font-weight: bold">1442</span> <span style="color: #000000; background: #FFFFFF;">texthandle = zeros(length(children),1); </span><br/>       <span style="color: #0000FF">     17 </span><span style="color: #000000; font-weight: bold">1443</span> <span style="color: #000000; background: #FFFFFF;">tokenhandle = []; </span><br/>               <span style="color: #A0A0A0">1444</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>       <span style="color: #0000FF">     17 </span><span style="color: #000000; font-weight: bold">1445</span> <span style="color: #000000; background: #FFFFFF;">for k=1:length(children) </span><br/>       <span style="color: #0000FF">     51 </span><span style="color: #000000; font-weight: bold">1446</span> <span style="color: #000000; background: #FFFFFF;">  item = children(k); </span><br/>               <span style="color: #A0A0A0">1447</span> <span style="color: #228B22; background: #FFFFFF;">  % TEXT OBJECT</span><br/><span style="color: #FF0000">  0.02 </span><span style="color: #0000FF">     51 </span><span style="color: #000000; font-weight: bold">1448</span> <a name="Line1448"></a><span style="color: #000000; background: #FFF0F0;">  texthandle(k) = text('Parent',double(h),... </span><br/>               <span style="color: #A0A0A0">1449</span> <span style="color: #000000; background: #FFF0F0;">                       'Interpreter',h.Interpreter,...</span><br/>               <span style="color: #A0A0A0">1450</span> <span style="color: #000000; background: #FFF0F0;">                       'Units','normalized',...</span><br/>               <span style="color: #A0A0A0">1451</span> <span style="color: #000000; background: #FFF0F0;">                       'Color',h.TextColor,...</span><br/>               <span style="color: #A0A0A0">1452</span> <span style="color: #000000; background: #FFF0F0;">                       'String',strings{k},...</span><br/>               <span style="color: #A0A0A0">1453</span> <span style="color: #000000; background: #FFF0F0;">                       'Position',[textx ypos 0],...</span><br/>               <span style="color: #A0A0A0">1454</span> <span style="color: #000000; background: #FFF0F0;">                       'VerticalAlignment','middle',...</span><br/>               <span style="color: #A0A0A0">1455</span> <span style="color: #000000; background: #FFF0F0;">                       'SelectionHighlight','off',...</span><br/>               <span style="color: #A0A0A0">1456</span> <span style="color: #000000; background: #FFF0F0;">                       'Interruptible','off','HitTest','off');</span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">     51 </span><span style="color: #000000; font-weight: bold">1457</span> <span style="color: #000000; background: #FFFFFF;">  set(texthandle(k),'FontUnits','points',... </span><br/>               <span style="color: #A0A0A0">1458</span> <span style="color: #000000; background: #FFFFFF;">                    'FontAngle',h.FontAngle,...</span><br/>               <span style="color: #A0A0A0">1459</span> <span style="color: #000000; background: #FFFFFF;">                    'FontWeight',h.FontWeight,...</span><br/>               <span style="color: #A0A0A0">1460</span> <span style="color: #000000; background: #FFFFFF;">                    'FontName',h.FontName);</span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">     51 </span><span style="color: #000000; font-weight: bold">1461</span> <span style="color: #000000; background: #FFFFFF;">  set(texthandle(k),'FontSize',h.FontSize); </span><br/><span style="color: #FF0000">  0.12 </span><span style="color: #0000FF">     51 </span><span style="color: #000000; font-weight: bold">1462</span> <a name="Line1462"></a><span style="color: #000000; background: #FF8080;">  set(texthandle(k),'ButtonDownFcn',methods(h,'getfunhan','tbdowncb',k));  </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">     51 </span><span style="color: #000000; font-weight: bold">1463</span> <span style="color: #000000; background: #FFFFFF;">  htext = handle(texthandle(k)); </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">     51 </span><span style="color: #000000; font-weight: bold">1464</span> <span style="color: #000000; background: #FFFFFF;">  props = [htext.findprop('FontName'),htext.findprop('FontSize'),... </span><br/>               <span style="color: #A0A0A0">1465</span> <span style="color: #000000; background: #FFFFFF;">           htext.findprop('FontWeight'),htext.findprop('FontAngle')];</span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">     51 </span><span style="color: #000000; font-weight: bold">1466</span> <span style="color: #000000; background: #FFFFFF;">  l = handle.listener(htext, props,... </span><br/>               <span style="color: #A0A0A0">1467</span> <span style="color: #000000; background: #FFFFFF;">                      'PropertyPostSet', @changedItemTextFontProperties);</span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">     51 </span><span style="color: #000000; font-weight: bold">1468</span> <span style="color: #000000; background: #FFFFFF;">  setappdata(double(htext), 'Listeners', l);                              </span><br/>               <span style="color: #A0A0A0">1469</span> <span style="color: #228B22; background: #FFFFFF;">                             </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">     51 </span><span style="color: #000000; font-weight: bold">1470</span> <span style="color: #000000; background: #FFFFFF;">  setappdata(item,'legend_texthandle',texthandle(k)); </span><br/>               <span style="color: #A0A0A0">1471</span> <span style="color: #228B22; background: #FFFFFF;">  % TOKEN (GRAPHIC)</span><br/>       <span style="color: #0000FF">     51 </span><span style="color: #000000; font-weight: bold">1472</span> <span style="color: #000000; background: #FFFFFF;">  if isa(item,'scribe.legendinfo') </span><br/>               <span style="color: #A0A0A0">1473</span> <span style="color: #A0A0A0; background: #FFFFFF;">    li = item;</span><br/><a name="Line1474"></a>               <span style="color: #A0A0A0">1474</span> <span style="color: #A0A0A0; background: #FFFFFF;">    tokenhandle(end+1) = hg.hggroup(...</span><br/>               <span style="color: #A0A0A0">1475</span> <span style="color: #A0A0A0; background: #FFFFFF;">        'Parent',double(h),...</span><br/>               <span style="color: #A0A0A0">1476</span> <span style="color: #A0A0A0; background: #FFFFFF;">        'HitTest','off',...</span><br/>               <span style="color: #A0A0A0">1477</span> <span style="color: #A0A0A0; background: #FFFFFF;">        'Tag',strings{k}(:).',...</span><br/>               <span style="color: #A0A0A0">1478</span> <span style="color: #A0A0A0; background: #FFFFFF;">        'SelectionHighlight','off',...</span><br/>               <span style="color: #A0A0A0">1479</span> <span style="color: #A0A0A0; background: #FFFFFF;">        'Interruptible','off');</span><br/>               <span style="color: #A0A0A0">1480</span> <span style="color: #A0A0A0; background: #FFFFFF;">    methods(h,'build_legendinfo_token',tokenhandle(end),li,tokenx,tokeny);</span><br/>       <span style="color: #0000FF">     51 </span><span style="color: #000000; font-weight: bold">1481</span> <span style="color: #228B22; background: #FFFFFF;">  else </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">     51 </span><span style="color: #000000; font-weight: bold">1482</span> <span style="color: #000000; background: #FFFFFF;">      item = localGetTokenItem(item); </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">     51 </span><span style="color: #000000; font-weight: bold">1483</span> <span style="color: #000000; background: #FFFFFF;">    type=get(item,'type'); </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">     51 </span><span style="color: #000000; font-weight: bold">1484</span> <span style="color: #000000; background: #FFFFFF;">    if isappdata(item,'LegendLegendInfo') </span><br/>               <span style="color: #A0A0A0">1485</span> <span style="color: #A0A0A0; background: #FFFFFF;">      li = getLegendInfo(h,item);</span><br/><a name="Line1486"></a>               <span style="color: #A0A0A0">1486</span> <span style="color: #A0A0A0; background: #FFFFFF;">      tokenhandle(end+1) = hg.hggroup(...</span><br/>               <span style="color: #A0A0A0">1487</span> <span style="color: #A0A0A0; background: #FFFFFF;">          'Parent',double(h),...</span><br/>               <span style="color: #A0A0A0">1488</span> <span style="color: #A0A0A0; background: #FFFFFF;">          'HitTest','off',...</span><br/>               <span style="color: #A0A0A0">1489</span> <span style="color: #A0A0A0; background: #FFFFFF;">          'Tag',strings{k}(:).',...</span><br/>               <span style="color: #A0A0A0">1490</span> <span style="color: #A0A0A0; background: #FFFFFF;">          'SelectionHighlight','off',...</span><br/>               <span style="color: #A0A0A0">1491</span> <span style="color: #A0A0A0; background: #FFFFFF;">          'Interruptible','off');</span><br/>               <span style="color: #A0A0A0">1492</span> <span style="color: #A0A0A0; background: #FFFFFF;">      if ishandle(li)</span><br/>               <span style="color: #A0A0A0">1493</span> <span style="color: #A0A0A0; background: #FFFFFF;">        methods(h,'build_legendinfo_token',tokenhandle(end),li,tokenx,tokeny);</span><br/>               <span style="color: #A0A0A0">1494</span> <span style="color: #228B22; background: #FFFFFF;">      else</span><br/>               <span style="color: #A0A0A0">1495</span> <span style="color: #A0A0A0; background: #FFFFFF;">        rmappdata(item, 'LegendLegendInfo');</span><br/>               <span style="color: #A0A0A0">1496</span> <span style="color: #A0A0A0; background: #FFFFFF;">      end</span><br/>       <span style="color: #0000FF">     51 </span><span style="color: #000000; font-weight: bold">1497</span> <span style="color: #228B22; background: #FFFFFF;">    else </span><br/>       <span style="color: #0000FF">     51 </span><span style="color: #000000; font-weight: bold">1498</span> <span style="color: #000000; background: #FFFFFF;">      switch type </span><br/>               <span style="color: #A0A0A0">1499</span> <span style="color: #228B22; background: #FFFFFF;">        % FOR LINE</span><br/>       <span style="color: #0000FF">     51 </span><span style="color: #000000; font-weight: bold">1500</span> <span style="color: #000000; background: #FFFFFF;">       case 'line' </span><br/>               <span style="color: #A0A0A0">1501</span> <span style="color: #228B22; background: #FFFFFF;">        % LINE PART OF LINE</span><br/><a name="Line1502"></a><span style="color: #FF0000">  0.02 </span><span style="color: #0000FF">     51 </span><span style="color: #000000; font-weight: bold">1502</span> <a name="Line1502"></a><span style="color: #000000; background: #FFF0F0;">        tokenhandle(end+1) = line('Parent',double(h),... </span><br/>               <span style="color: #A0A0A0">1503</span> <span style="color: #000000; background: #FFF0F0;">                                  'Color',get(item,'Color'),...</span><br/>               <span style="color: #A0A0A0">1504</span> <span style="color: #000000; background: #FFF0F0;">                                  'LineWidth',get(item,'LineWidth'),...</span><br/>               <span style="color: #A0A0A0">1505</span> <span style="color: #000000; background: #FFF0F0;">                                  'LineStyle',get(item,'LineStyle'),...</span><br/>               <span style="color: #A0A0A0">1506</span> <span style="color: #000000; background: #FFF0F0;">                                  'Marker','none',...</span><br/>               <span style="color: #A0A0A0">1507</span> <span style="color: #000000; background: #FFF0F0;">                                  'XData',tokenx,...</span><br/>               <span style="color: #A0A0A0">1508</span> <span style="color: #000000; background: #FFF0F0;">                                  'YData',[ypos ypos],...</span><br/>               <span style="color: #A0A0A0">1509</span> <span style="color: #000000; background: #FFF0F0;">                                  'Tag',strings{k}(:).',...</span><br/>               <span style="color: #A0A0A0">1510</span> <span style="color: #000000; background: #FFF0F0;">                                  'SelectionHighlight','off',...</span><br/>               <span style="color: #A0A0A0">1511</span> <span style="color: #000000; background: #FFF0F0;">                                  'HitTest','off',...</span><br/>               <span style="color: #A0A0A0">1512</span> <span style="color: #000000; background: #FFF0F0;">                                  'Interruptible','off');</span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">     51 </span><span style="color: #000000; font-weight: bold">1513</span> <span style="color: #000000; background: #FFFFFF;">        setappdata(item,'legend_linetokenhandle',tokenhandle(end)); </span><br/>               <span style="color: #A0A0A0">1514</span> <span style="color: #228B22; background: #FFFFFF;">        % MARKER PART OF LINE</span><br/>               <span style="color: #A0A0A0">1515</span> <span style="color: #228B22; background: #FFFFFF;">        % line for marker part (having a separate line for the marker</span><br/>               <span style="color: #A0A0A0">1516</span> <span style="color: #228B22; background: #FFFFFF;">        % allows us to center the marker in the line.</span><br/><a name="Line1517"></a><span style="color: #FF0000">  0.01 </span><span style="color: #0000FF">     51 </span><span style="color: #000000; font-weight: bold">1517</span> <span style="color: #000000; background: #FFF0F0;">        tokenhandle(end+1) = line('Parent',double(h),... </span><br/>               <span style="color: #A0A0A0">1518</span> <span style="color: #000000; background: #FFF0F0;">                                  'Color',get(item,'Color'),...</span><br/>               <span style="color: #A0A0A0">1519</span> <span style="color: #000000; background: #FFF0F0;">                                  'LineWidth',get(item,'LineWidth'),...</span><br/>               <span style="color: #A0A0A0">1520</span> <span style="color: #000000; background: #FFF0F0;">                                  'LineStyle','none',...</span><br/>               <span style="color: #A0A0A0">1521</span> <span style="color: #000000; background: #FFF0F0;">                                  'Marker',get(item,'Marker'),...</span><br/>               <span style="color: #A0A0A0">1522</span> <span style="color: #000000; background: #FFF0F0;">                                  'MarkerSize',get(item,'MarkerSize'),...</span><br/>               <span style="color: #A0A0A0">1523</span> <span style="color: #000000; background: #FFF0F0;">                                  'MarkerEdgeColor',get(item,'MarkerEdgeColor'),...</span><br/>               <span style="color: #A0A0A0">1524</span> <span style="color: #000000; background: #FFF0F0;">                                  'MarkerFaceColor',get(item,'MarkerFaceColor'),...</span><br/>               <span style="color: #A0A0A0">1525</span> <span style="color: #000000; background: #FFF0F0;">                                  'XData', (tokenx(1) + tokenx(2))/2,...</span><br/>               <span style="color: #A0A0A0">1526</span> <span style="color: #000000; background: #FFF0F0;">                                  'YData', ypos,...</span><br/>               <span style="color: #A0A0A0">1527</span> <span style="color: #000000; background: #FFF0F0;">                                  'HitTest','off',...</span><br/>               <span style="color: #A0A0A0">1528</span> <span style="color: #000000; background: #FFF0F0;">                                  'SelectionHighlight','off',...</span><br/>               <span style="color: #A0A0A0">1529</span> <span style="color: #000000; background: #FFF0F0;">                                  'Interruptible','off');</span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">     51 </span><span style="color: #000000; font-weight: bold">1530</span> <span style="color: #000000; background: #FFFFFF;">        setappdata(item,'legend_linemarkertokenhandle',tokenhandle(end)); </span><br/>               <span style="color: #A0A0A0">1531</span> <span style="color: #228B22; background: #FFFFFF;">        % FOR PATCH</span><br/>               <span style="color: #A0A0A0">1532</span> <span style="color: #A0A0A0; background: #FFFFFF;">       case {'patch','surface'}</span><br/>               <span style="color: #A0A0A0">1533</span> <span style="color: #A0A0A0; background: #FFFFFF;">        pyd = get(item,'xdata');</span><br/>               <span style="color: #A0A0A0">1534</span> <span style="color: #A0A0A0; background: #FFFFFF;">        if length(pyd) == 1</span><br/>               <span style="color: #A0A0A0">1535</span> <span style="color: #A0A0A0; background: #FFFFFF;">          pxdata = sum(tokenx)/length(tokenx);</span><br/>               <span style="color: #A0A0A0">1536</span> <span style="color: #A0A0A0; background: #FFFFFF;">          pydata = ypos;</span><br/>               <span style="color: #A0A0A0">1537</span> <span style="color: #228B22; background: #FFFFFF;">        else</span><br/>               <span style="color: #A0A0A0">1538</span> <span style="color: #A0A0A0; background: #FFFFFF;">          pxdata = [tokenx(1) tokenx(1) tokenx(2) tokenx(2)];</span><br/>               <span style="color: #A0A0A0">1539</span> <span style="color: #A0A0A0; background: #FFFFFF;">          pydata = [tokeny(1) tokeny(2) tokeny(2) tokeny(1)];</span><br/>               <span style="color: #A0A0A0">1540</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end</span><br/>               <span style="color: #A0A0A0">1541</span> <span style="color: #A0A0A0; background: #FFFFFF;">        [edgecolor,facecolor] = patchcolors(h,item);</span><br/>               <span style="color: #A0A0A0">1542</span> <span style="color: #A0A0A0; background: #FFFFFF;">        [facevertcdata,facevertadata] = patchvdata(h,item);</span><br/>               <span style="color: #A0A0A0">1543</span> <span style="color: #A0A0A0; background: #FFFFFF;">        if strcmp(facecolor,'none') &amp;&amp; strcmp(type,'patch')</span><br/>               <span style="color: #A0A0A0">1544</span> <span style="color: #A0A0A0; background: #FFFFFF;">            pydata = repmat(mean(pydata),1,numel(pydata));</span><br/>               <span style="color: #A0A0A0">1545</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end</span><br/><a name="Line1546"></a>               <span style="color: #A0A0A0">1546</span> <span style="color: #A0A0A0; background: #FFFFFF;">        tokenhandle(end+1) = patch('Parent',double(h),...</span><br/>               <span style="color: #A0A0A0">1547</span> <span style="color: #A0A0A0; background: #FFFFFF;">                                   'FaceColor',facecolor,...</span><br/>               <span style="color: #A0A0A0">1548</span> <span style="color: #A0A0A0; background: #FFFFFF;">                                   'EdgeColor',edgecolor,...</span><br/>               <span style="color: #A0A0A0">1549</span> <span style="color: #A0A0A0; background: #FFFFFF;">                                   'LineWidth',get(item,'LineWidth'),...</span><br/>               <span style="color: #A0A0A0">1550</span> <span style="color: #A0A0A0; background: #FFFFFF;">                                   'LineStyle',get(item,'LineStyle'),...</span><br/>               <span style="color: #A0A0A0">1551</span> <span style="color: #A0A0A0; background: #FFFFFF;">                                   'Marker',get(item,'Marker'),...</span><br/>               <span style="color: #A0A0A0">1552</span> <span style="color: #A0A0A0; background: #FFFFFF;">                                   'MarkerSize',h.FontSize,...</span><br/>               <span style="color: #A0A0A0">1553</span> <span style="color: #A0A0A0; background: #FFFFFF;">                                   'MarkerEdgeColor',get(item,'MarkerEdgeColor'),...</span><br/>               <span style="color: #A0A0A0">1554</span> <span style="color: #A0A0A0; background: #FFFFFF;">                                   'MarkerFaceColor',get(item,'MarkerFaceColor'),...</span><br/>               <span style="color: #A0A0A0">1555</span> <span style="color: #A0A0A0; background: #FFFFFF;">                                   'XData', pxdata,...</span><br/>               <span style="color: #A0A0A0">1556</span> <span style="color: #A0A0A0; background: #FFFFFF;">                                   'YData', pydata,...</span><br/>               <span style="color: #A0A0A0">1557</span> <span style="color: #A0A0A0; background: #FFFFFF;">                                   'FaceVertexCData',facevertcdata,...</span><br/>               <span style="color: #A0A0A0">1558</span> <span style="color: #A0A0A0; background: #FFFFFF;">                                   'FaceVertexAlphaData',facevertadata,...</span><br/>               <span style="color: #A0A0A0">1559</span> <span style="color: #A0A0A0; background: #FFFFFF;">                                   'Tag',strings{k}(:).',...</span><br/>               <span style="color: #A0A0A0">1560</span> <span style="color: #A0A0A0; background: #FFFFFF;">                                   'SelectionHighlight','off',...</span><br/>               <span style="color: #A0A0A0">1561</span> <span style="color: #A0A0A0; background: #FFFFFF;">                                   'HitTest','off',...</span><br/>               <span style="color: #A0A0A0">1562</span> <span style="color: #A0A0A0; background: #FFFFFF;">                                   'Interruptible','off');</span><br/>               <span style="color: #A0A0A0">1563</span> <span style="color: #A0A0A0; background: #FFFFFF;">        setappdata(item,'legend_patchtokenhandle',tokenhandle(end));</span><br/>               <span style="color: #A0A0A0">1564</span> <span style="color: #A0A0A0; background: #FFFFFF;">      end</span><br/>       <span style="color: #0000FF">     51 </span><span style="color: #000000; font-weight: bold">1565</span> <span style="color: #000000; background: #FFFFFF;">    end </span><br/>       <span style="color: #0000FF">     51 </span><span style="color: #000000; font-weight: bold">1566</span> <span style="color: #000000; background: #FFFFFF;">  end </span><br/>       <span style="color: #0000FF">     51 </span><span style="color: #000000; font-weight: bold">1567</span> <span style="color: #000000; background: #FFFFFF;">  if k&lt;length(children) </span><br/>       <span style="color: #0000FF">     34 </span><span style="color: #000000; font-weight: bold">1568</span> <span style="color: #000000; background: #FFFFFF;">    if strcmpi(h.Orientation,'vertical') </span><br/>       <span style="color: #0000FF">     34 </span><span style="color: #000000; font-weight: bold">1569</span> <span style="color: #000000; background: #FFFFFF;">      ypos = ypos - (yinc(k)+yinc(k+1))/2; </span><br/><span style="color: #FF0000">&lt; 0.01 </span><span style="color: #0000FF">     34 </span><span style="color: #000000; font-weight: bold">1570</span> <span style="color: #000000; background: #FFFFFF;">      tokeny = tokeny - (yinc(k)+yinc(k+1))/2; </span><br/>               <span style="color: #A0A0A0">1571</span> <span style="color: #228B22; background: #FFFFFF;">    else</span><br/>               <span style="color: #A0A0A0">1572</span> <span style="color: #A0A0A0; background: #FFFFFF;">      tokenx = tokenx + xinc + s.strsizes(k,1)/lpos(3);</span><br/>               <span style="color: #A0A0A0">1573</span> <span style="color: #A0A0A0; background: #FFFFFF;">      textx = textx + xinc + s.strsizes(k,1)/lpos(3);</span><br/>               <span style="color: #A0A0A0">1574</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end</span><br/>       <span style="color: #0000FF">     34 </span><span style="color: #000000; font-weight: bold">1575</span> <span style="color: #000000; background: #FFFFFF;">  end </span><br/>       <span style="color: #0000FF">     51 </span><span style="color: #000000; font-weight: bold">1576</span> <span style="color: #000000; background: #FFFFFF;">end </span><br/>       <span style="color: #0000FF">     17 </span><span style="color: #000000; font-weight: bold">1577</span> <span style="color: #000000; background: #FFFFFF;">h.ItemText = texthandle; </span><br/>       <span style="color: #0000FF">     17 </span><span style="color: #000000; font-weight: bold">1578</span> <span style="color: #000000; background: #FFFFFF;">h.ItemTokens = tokenhandle; </span><br/></pre><p><p>Other subfunctions in this file are not included in this listing.</body></html>